(this["webpackJsonpgoit-react-hw-03-phonebook"]=this["webpackJsonpgoit-react-hw-03-phonebook"]||[]).push([[0],{1:function(t,e,n){t.exports={form__container:"form_form__container__2mwKy",list__container:"form_list__container__PzUkF",form:"form_form__2I6uc",input:"form_input__3R_rJ",label:"form_label__3n9Sf",button:"form_button__1MBON"}},16:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var a=n(2),r=n.n(a),c=n(9),o=n.n(c),s=(n(16),n(11)),i=n(3),l=n(4),u=n(6),m=n(5),b=n(19),h=n(10),f=n(1),j=n.n(f),d=n(0),p=function(t){Object(u.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={name:"",number:""},t.phonenumber=function(t){return!!t.match(/^\d{10}$/)},t.nameInputId=Object(b.a)(),t.numberInputId=Object(b.a)(),t.reset=function(){t.setState({name:"",number:""})},t.handleChange=function(e){var n=e.currentTarget,a=n.value,r=n.name;if("number"!==r||!isNaN(a)){if("name"===r){if(!a.match(/^[a-zA-Z ]+(?:\s[a-zA-Z]+)?$/)&&a.length>0)return}t.setState(Object(h.a)({},r,a))}},t.handleSubmit=function(e){return e.preventDefault(),0===t.state.name.length?alert("Write your name"):t.phonenumber(t.state.number)?(t.props.onSubmit(t.state),void t.reset()):alert("An invalid number")},t}return Object(l.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("form",{className:j.a.form,onSubmit:this.handleSubmit,children:[Object(d.jsx)("label",{htmlFor:this.nameInputId,className:j.a.label,children:"Name"}),Object(d.jsx)("input",{type:"text",id:this.nameInputId,className:j.a.input,name:"name",value:this.state.name,onChange:this.handleChange,placeholder:"your name"}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{htmlFor:this.numberInputId,className:j.a.label,children:"Number"}),Object(d.jsx)("input",{type:"text",id:this.numberInputId,className:j.a.input,name:"number",value:this.state.number,onChange:this.handleChange,placeholder:"1234567890"}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{type:"submit",className:j.a.button,children:"Add contact"})]})}}]),n}(a.Component);function O(t){var e=t.id,n=t.name,a=t.number,r=t.onDeleteContact,c=t.s;return Object(d.jsxs)("li",{className:"contact",children:[n," ",a,Object(d.jsx)("button",{type:"button",onClick:r,className:c.button,children:"delete"})]},e)}function _(t){var e=t.onFilter,n=t.filteredContacts,a=t.onDeleteContact,r=n;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("label",{htmlFor:"filter",children:"Search contact by number or name"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"text",name:"filter",id:"filter",onChange:function(t){e(t.currentTarget.value)}}),Object(d.jsx)("ul",{className:j.a.form,children:r.map((function(t){var e=t.id,n=t.name,r=t.number;return Object(d.jsx)(O,{id:e,name:n,number:r,onDeleteContact:function(){a(e)},s:j.a},Object(b.a)())}))})]})}function v(t){var e=t.className,n=t.title,a=t.children;return Object(d.jsxs)("div",{className:e,children:[Object(d.jsx)("h2",{children:n}),a]})}var x=function(t){Object(u.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={contacts:[],filter:""},t.randomID=Object(b.a)(),t.onDeleteContact=function(e){t.setState((function(t){return{contacts:t.contacts.filter((function(t){return e!==t.id}))}}))},t.getFilteredContats=function(){var e=t.state.filter.toLowerCase();return t.state.contacts.filter((function(n){return n.name.toLowerCase().includes(e)||n.number.includes(t.state.filter)}))},t.onFilter=function(e){return console.log(e),t.setState({filter:e})},t.onSubmit=function(e){var n={id:Object(b.a)(),name:e.name,number:e.number};0===t.state.contacts.filter((function(t){return t.name===n.name||t.number===n.number})).length?t.setState((function(t){return{contacts:[n].concat(Object(s.a)(t.contacts))}})):alert("this contact or number already exist")},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){console.log("ComponentisMounted");var t=localStorage.getItem("contacts"),e=JSON.parse(t);e&&this.setState({contacts:e})}},{key:"componentDidUpdate",value:function(t,e){this.setState.contacts!==e.contacts&&(console.log(this.state.contacts),localStorage.setItem("contacts",JSON.stringify(this.state.contacts)))}},{key:"render",value:function(){var t=this.getFilteredContats()||this.getFilteredNumbers();return Object(d.jsxs)(v,{className:j.a.form__container,title:"Phonebook",children:[Object(d.jsx)(p,{onSubmit:this.onSubmit}),Object(d.jsx)(v,{className:j.a.list__container,title:"Contacts",children:Object(d.jsx)(_,{onFilter:this.onFilter,filteredContacts:t,onDeleteContact:this.onDeleteContact})})]})}}]),n}(a.Component);o.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(x,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.3b1d6cb2.chunk.js.map